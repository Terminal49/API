---
title: MCP Server Quickstart
description: How to use Terminal49's MCP server and SDK
---

## Overview

Terminal49 provides a Model Context Protocol (MCP) server and a TypeScript SDK to query shipping data via MCP-compatible clients.

- **HTTP (streamable)**: `POST /api/mcp`
- **SSE (stateful)**: `GET/POST /sse?sessionId=<id>`
- **Auth**: `Authorization: Bearer <T49_API_TOKEN>` (server also falls back to `process.env.T49_API_TOKEN`)
- **SDK**: `@terminal49/sdk` (TypeScript)

## Configure an MCP client (Claude/Cursor)

1) Get an API token from Terminal49.
2) Add the server to your client config:

```json
{
  "mcpServers": {
    "terminal49": {
      "url": "https://mcp.terminal49.com/api/mcp",
      "headers": {
        "Authorization": "Bearer <T49_API_TOKEN>"
      }
    }
  }
}
```

For local testing, set `url` to `http://localhost:3000/api/mcp` (or your dev server) with the same header. If your deploy exposes the rewrite, you can also call `https://mcp.terminal49.com/mcp`.

## Local dev & transports
- Install deps: `npm install` && `npm --prefix packages/mcp install`.
- Env: set `T49_API_TOKEN` (copy `.env.example` in `packages/mcp` if present).
- HTTP dev: `npm --prefix packages/mcp run dev` (default port 3000).
- Stdio: `npm --prefix packages/mcp run mcp:stdio`.
- SSE: `GET /sse?sessionId=<id>` to open the stream, `POST /sse?sessionId=<id>` to send messages on the same session.

## Tools (MCP)
- `search_container`: find containers by number, bill, booking, or shipment refs.
- `track_container`: start tracking a container.
- `get_container`: fetch a container with optional includes (e.g., `shipment`).
- `get_shipment_details`: fetch a shipment and its containers.
- `get_container_transport_events`: list transport events for a container.
- `get_supported_shipping_lines`: list shipping lines Terminal49 supports.
- `get_container_route`: fetch the planned/actual route for a container.

## Resources (MCP)
- `terminal49://container/{id}`
- `terminal49://docs/milestone-glossary`

## SDK highlights
- Namespaced client with `raw` | `mapped` | `both` formats.
- Mapped models for containers, shipments, routes, shipping lines, tracking requests.
- Smoke scripts: `npm run smoke` and `npm run smoke:lists` (dotenv-aware).

### Example (Node/TS)
```ts
import { Terminal49Client } from '@terminal49/sdk';

const client = new Terminal49Client({ apiToken: process.env.T49_API_TOKEN!, defaultFormat: 'mapped' });
const container = await client.containers.get('container-uuid', ['shipment'], { format: 'both' });
console.log(container.mapped);
```

## Deployment notes
- Vercel function: `api/mcp.ts` uses `StreamableHTTPServerTransport` and bearer auth fallback to `process.env.T49_API_TOKEN`.
- SSE endpoint: `api/sse.ts` with `sessionId` pairing for GET/POST.
- Build command (Vercel): `npm install && npm run build --workspace @terminal49/sdk && npm run build --workspace @terminal49/mcp` (see `vercel.json`).

// Spectral configuration for Terminal49 API
// Uses the recommended OpenAPI ruleset with custom rules

import { oas } from "@stoplight/spectral-rulesets";

export default {
  extends: [oas],

  rules: {
    // Customize rules to match our API style

    // Info section - relax some requirements
    "info-contact": "warn",
    "info-description": "warn",
    "info-license": "off", // We use terms of service instead

    // Operation rules - be practical
    "operation-description": "warn", // Warn instead of error
    "operation-operationId": "off", // Don't require operationId everywhere
    "operation-operationId-unique": "error",
    "operation-summary": "warn",
    "operation-tags": "warn",
    "operation-tag-defined": "warn",

    // Parameter rules
    "operation-parameters": "warn",
    "path-params": "error",

    // Response rules
    "operation-success-response": "warn", // Warn if no 2xx response

    // Schema rules - keep strict
    "oas3-schema": "error",
    "oas3-valid-media-example": "error",
    "oas3-valid-schema-example": "error",

    // Path rules
    "no-$ref-siblings": "error",
    "path-declarations-must-exist": "error",
    "path-keys-no-trailing-slash": "error",
    "path-not-include-query": "error",

    // Security
    "operation-security-defined": "warn",

    // Misc
    "no-eval-in-markdown": "error",
    "no-script-tags-in-markdown": "error",
    "openapi-tags-alphabetical": "off",
    "openapi-tags": "warn",

    // Turn off overly strict rules
    "contact-properties": "off",
    "license-url": "off",
    "tag-description": "off"
  }
};